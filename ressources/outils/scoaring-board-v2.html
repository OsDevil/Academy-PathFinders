---
layout: header_base
title: PathFinders Academy - Scoaring Board V2
---

<style>
  input[type="number"] {
    -moz-appearance: textfield; /* Firefox */
  }
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  table {
    border-collapse: collapse;
    max-width: 80%;
    text-align: center;
    margin: auto;
  }
  th,
  td {
    padding: 2px;
  }
  .containerScorer {
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #c5c5c5;
    font-size: 12px;
  }
  .containerTableScore {
    width: 100%;
  }
  .vertical-text {
    transform: rotate(-90deg);
    text-align: center;
  }
  .containerResultBox {
    display: flex;
    flex-direction: column;
    width: 100%;
    margin-top: 50px;
  }
  .resultSetup {
    text-align: center;
    font-size: 40px;
    margin-bottom: 100px;
  }
  .calcScore tr td input[type="number"] {
    margin: 0px 0;
    font-size: 12px;
    padding: 3px;
    width: 40px;
    border: none;
    background-color: #09131b;
    color: #c5c5c5;
    outline: none;
    text-align: center;
    box-shadow: inset 0px 0px 4px 0px #243645;
    border-radius: 10px;
  }
  .tooltip {
    position: absolute;
    display: none;
    background-color: #fff;
    border: 1px solid #ccc;
    padding: 10px;
    z-index: 1;
    max-width: 400px;
    max-height: 60vh;
  }
  .tooltip img {
    max-width: 100%;
    height: auto;
  }
  .hoverImg:hover {
    cursor: pointer;
  }
  .hoverImg:hover .tooltip {
    display: flex;
  }
  @media screen and (min-width: 1000px) {
    .containerScorer {
      flex-direction: row;
    }
    .containerTableScore {
      width: 50%;
    }
    .containerResultBox {
      width: 50%;
      flex-direction: column;
    }
    .resultSetup {
      margin-bottom: 0;
    }
  }
  .button-container {
    display: flex;
    justify-content: center;
    width: 90%;
    margin: 20px auto;
  }
  .button {
    padding: 10px 0;
    width: 25%;
    border: none;
    cursor: pointer;
    font-size: 16px;
    border-bottom: 1px solid #27394d;
    color: #ffffff;
  }
  .active {
    background-color: #17324e;
    border-bottom: 1px solid #17324e;
    color: #fff;
  }
  .inactive {
    background-color: #09131b;
  }
  div#hour {
    text-align: center;
  }
  div#coefcalc {
    color: #3ea75a;
    text-align: center;
    font-weight: 600;
    margin-bottom: 50px;
  }
  @media screen and (min-width: 1000px) {
    .button-container {
      width: 80%;
    }
  }
</style>

<h1>Scoaring Board - V2</h1>
<div class="traitTitle"></div>
<h2 style="margin-top: 50px; margin-bottom: 100px; text-align: center">
  Lulu, Zephir, bisous les mecs ðŸ˜˜
</h2>

<div class="containerScorer">
  <div class="containerTableScore">
    <table class="calcScore">
      <tr>
        <th></th>
        <th style="width: 150px; padding-bottom: 10px">Ã‰lÃ©ment</th>
        <th style="width: 100px; padding-bottom: 10px">Setup</th>
        <th style="width: 150px; padding-bottom: 10px">PondÃ©ration</th>
      </tr>
      <tr style="border-top: 1px solid #27394d">
        <td rowspan="12" class="vertical-text">Contexte HTF narratif</td>
        <td class="hoverImg">
          Tendance
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_tendance.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="12" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          Premium / Discount
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_pd.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="12" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #0d1f31">
          Raid PWL / PWH
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_raid.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #0d1f31">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #0d1f31">
          <input type="number" class="pond-input" min="0" max="25" value="10" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #0d1f31">
          Raid PDL / PDH
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_raid.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #0d1f31">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #0d1f31">
          <input type="number" class="pond-input" min="0" max="25" value="8" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #0d1f31">
          Raid Asia
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_raid.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #0d1f31">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #0d1f31">
          <input type="number" class="pond-input" min="0" max="25" value="7" />
        </td>
      </tr>
      <tr>
        <td
          class="hoverImg"
          style="background-color: #0d1f31"
          style="background-color: #0d1f31"
        >
          Raid EQH / EQL
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_raid.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #0d1f31">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #0d1f31">
          <input type="number" class="pond-input" min="0" max="25" value="6" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #0d1f31">
          Raid
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_raid.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #0d1f31">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #0d1f31">
          <input type="number" class="pond-input" min="0" max="25" value="5" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          SMT DXY
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_smt.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="5" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          Divergence RSI
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_rsi.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="4" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #27394d">
          S/R Monthly
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_sr.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #27394d">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #27394d">
          <input type="number" class="pond-input" min="0" max="25" value="10" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #27394d">
          S/R Weekly
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_sr.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #27394d">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #27394d">
          <input type="number" class="pond-input" min="0" max="25" value="8" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #27394d">
          S/R Daily
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_sr.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #27394d">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #27394d">
          <input type="number" class="pond-input" min="0" max="25" value="6" />
        </td>
      </tr>
      <tr style="border-top: 1px solid #27394d">
        <td rowspan="7" class="vertical-text">Objectif</td>
        <td class="hoverImg" style="background-color: #17324e">
          PWL / PWH
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_obj.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #17324e">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #17324e">
          <input type="number" class="pond-input" min="0" max="25" value="12" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #17324e">
          PDL / PDH
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_obj.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #17324e">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #17324e">
          <input type="number" class="pond-input" min="0" max="25" value="10" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #17324e">
          Monday Low / High
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_obj.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #17324e">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #17324e">
          <input type="number" class="pond-input" min="0" max="25" value="8" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #17324e">
          Asia Low / High
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_obj.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #17324e">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #17324e">
          <input type="number" class="pond-input" min="0" max="25" value="7" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #17324e">
          BSL / SSL
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_obj.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #17324e">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #17324e">
          <input type="number" class="pond-input" min="0" max="25" value="6" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          EQHs / EQLs
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_eqs.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="4" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          Trendline
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_tdl.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="5" />
        </td>
      </tr>
      <tr style="border-top: 1px solid #27394d">
        <td rowspan="8" class="vertical-text">LTF execution</td>
        <td class="hoverImg">
          POI HTF
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_poi.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="12" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          Raid interne
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_raid.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="12" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          BOS
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_bos.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="14" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          Consolidation
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_consolidation.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="8" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #0d1f31">
          0.5 retracement
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_ote.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #0d1f31">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #0d1f31">
          <input type="number" class="pond-input" min="0" max="25" value="7" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg" style="background-color: #0d1f31">
          OTE retracement
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_ote.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td style="background-color: #0d1f31">
          <input type="checkbox" class="checkbox" data-pond="12" />
        </td>
        <td style="background-color: #0d1f31">
          <input type="number" class="pond-input" min="0" max="25" value="5" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          FVG LTF
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_fvg.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="7" />
        </td>
      </tr>
      <tr>
        <td class="hoverImg">
          3 drive pattern
          <div class="tooltip">
            <img
              src="https://osdevil.github.io/Academy-PathFinders/imgs/illu_3dp.png"
              alt="Illustration"
            />
          </div>
        </td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input type="number" class="pond-input" min="0" max="25" value="3" />
        </td>
      </tr>
      <tr style="border-top: 1px solid #27394d">
        <td rowspan="4" class="vertical-text">Malus</td>
        <td>Contre tendance HTF</td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input
            type="number"
            class="pond-input"
            min="-25"
            max="0"
            value="-15"
            style="color: #ec7e7e"
          />
        </td>
      </tr>
      <tr>
        <td>News</td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input
            type="number"
            class="pond-input"
            min="-25"
            max="0"
            value="-20"
            style="color: #ec7e7e"
          />
        </td>
      </tr>
      <tr>
        <td>ClÃ´ture Monthly</td>
        <td><input type="checkbox" class="checkbox" data-pond="12" /></td>
        <td>
          <input
            type="number"
            class="pond-input"
            min="-25"
            max="0"
            value="-15"
            style="color: #ec7e7e"
          />
        </td>
      </tr>
    </table>
  </div>

  <div class="containerResultBox">
    <div class="button-container">
      <button class="button" id="button1">C1</button>
      <button class="button" id="button2">C2</button>
      <button class="button" id="button3">C3</button>
      <button class="button" id="button4">C4</button>
    </div>

    <div id="hour"></div>
    <div id="coefcalc"></div>

    <div class="resultGrid">
      <table style="width: 80%">
        <tr>
          <th></th>
          <th></th>
          <th colspan="2" style="border-bottom: 1px solid #27394d">
            Risque conseillÃ©
          </th>
        </tr>
        <tr>
          <td style="border-bottom: 1px solid #27394d">Lecture scoring</td>
          <td style="border-bottom: 1px solid #27394d"></td>
          <td style="border-left: 1px solid #27394d">Challenge</td>
          <td>FinancÃ©</td>
        </tr>
        <tr>
          <td>AAA</td>
          <td style="border-left: 1px solid #27394d">Execution classique</td>
          <td>2,00%</td>
          <td>1,00%</td>
        </tr>
        <tr>
          <td>A</td>
          <td style="border-left: 1px solid #27394d">Execution sÃ©curisÃ©e</td>
          <td>1,00%</td>
          <td>0,50%</td>
        </tr>
        <tr>
          <td>BBB</td>
          <td style="border-left: 1px solid #27394d">Execution risquÃ©e</td>
          <td>0,50%</td>
          <td>-</td>
        </tr>
        <tr>
          <td>C</td>
          <td style="border-left: 1px solid #27394d">Execution nulle</td>
          <td>-</td>
          <td>-</td>
        </tr>
      </table>
      <div
        style="margin: 100px auto; width: 50%; border-bottom: 1px solid #27394d"
      ></div>
    </div>
    <div class="resultSetup">
      <strong>RÃ©sultat :</strong> <span id="weightedPercentage">0%</span>
      <br />
      <span id="setupResult">Setup : -</span>
    </div>
  </div>
</div>

<script>
  $(document).ready(function () {
    let coefficients = [0.8, 1.2, 0.7, 1.1];
    let timeRanges = [
      "00h - 06h (UTC+1)",
      "06h - 12h (UTC+1)",
      "12h - 18h (UTC+1)",
      "18h - 00h (UTC+1)",
    ];
    let weightedPercentage;
    let coef;

    // Initialisation du coefficient et du bouton cliquÃ© en fonction de l'heure actuelle
    const currentHour = new Date().getUTCHours() + 1; // Heure actuelle en UTC+1
    if (currentHour >= 0 && currentHour < 6) {
      handleClick(0);
    } else if (currentHour >= 6 && currentHour < 12) {
      handleClick(1);
    } else if (currentHour >= 12 && currentHour < 18) {
      handleClick(2);
    } else {
      handleClick(3);
    }

    function handleClick(index) {
      coef = coefficients[index];
      if (coef < 1) {
        $("#coefcalc").css("color", "#d55050");
      } else {
        $("#coefcalc").css("color", "#3ea75a");
      }
      calculateSums();
      $("#hour").text(`${timeRanges[index]}`);
      $("#coefcalc").text(`x${coefficients[index]}`);
      updateButtons(index);
    }

    // Fonction pour effectuer les calculs
    function calculateSums() {
      var sumRows1To27 = 0;
      var sumRows28To31 = 0;
      var additionalValue = 0;
      var av1 = 0;
      var av2 = 0;
      var av3 = 0;
      var av4 = 0;
      var batch1 = false;
      var batch2 = false;
      var batch3 = false;
      var batch4 = false;

      // Parcours de chaque ligne du tableau
      $(".calcScore tr").each(function (index) {
        var isChecked = $(this).find(".checkbox").prop("checked");
        var value = parseFloat($(this).find(".pond-input").val());

        // Les lignes de 1 Ã  27
        if (index >= 1 && index <= 27 && isChecked) {
          sumRows1To27 += value;
        }

        // Les lignes de 28 Ã  31
        if (index >= 28 && index <= 30 && isChecked) {
          sumRows28To31 += value;
        }

        // Calculs supplÃ©mentaires
        if (index === 1) {
          additionalValue += value;
        } else if (index === 2) {
          additionalValue += value;
        } else if (index === 8) {
          additionalValue += value;
        } else if (index === 9) {
          additionalValue += value;
        } else if (index === 18) {
          additionalValue += value;
        } else if (index === 19) {
          additionalValue += value;
        } else if (index === 20) {
          additionalValue += value;
        } else if (index === 21) {
          additionalValue += value;
        } else if (index === 22) {
          additionalValue += value;
        } else if (index === 23) {
          additionalValue += value;
        } else if (index === 26) {
          additionalValue += value;
        } else if (index === 27) {
          additionalValue += value;
        } else if (index === 28 && isChecked) {
          additionalValue -= value;
        } else if (index === 29 && isChecked) {
          additionalValue -= value;
        } else if (index === 30 && isChecked) {
          additionalValue -= value;
        } else if (index === 3) {
          if (isChecked) {
            additionalValue += value;
            batch1 = true;
          } else {
            av1 += value;
          }
        } else if (index === 4) {
          if (isChecked) {
            additionalValue += value;
            batch1 = true;
          } else {
            av1 += value;
          }
        } else if (index === 5) {
          if (isChecked) {
            additionalValue += value;
            batch1 = true;
          } else {
            av1 += value;
          }
        } else if (index === 6) {
          if (isChecked) {
            additionalValue += value;
            batch1 = true;
          } else {
            av1 += value;
          }
        } else if (index === 7) {
          if (isChecked) {
            additionalValue += value;
            batch1 = true;
          } else if (!batch1) {
            av1 += value;
            additionalValue += av1 / 5;
          }
        } else if (index === 10) {
          if (isChecked) {
            additionalValue += value;
            batch2 = true;
          } else {
            av2 += value;
          }
        } else if (index === 11) {
          if (isChecked) {
            additionalValue += value;
            batch2 = true;
          } else {
            av2 += value;
          }
        } else if (index === 12) {
          if (isChecked) {
            additionalValue += value;
            batch2 = true;
          } else if (!batch2) {
            av2 += value;
            additionalValue += av2 / 3;
          }
        } else if (index === 13) {
          if (isChecked) {
            additionalValue += value;
            batch3 = true;
          } else {
            av3 += value;
          }
        } else if (index === 14) {
          if (isChecked) {
            additionalValue += value;
            batch3 = true;
          } else {
            av3 += value;
          }
        } else if (index === 15) {
          if (isChecked) {
            additionalValue += value;
            batch3 = true;
          } else {
            av3 += value;
          }
        } else if (index === 16) {
          if (isChecked) {
            additionalValue += value;
            batch3 = true;
          } else {
            av3 += value;
          }
        } else if (index === 17) {
          if (isChecked) {
            additionalValue += value;
            batch3 = true;
          } else if (!batch3) {
            av3 += value;
            additionalValue += av3 / 5;
          }
        } else if (index === 24) {
          if (isChecked) {
            additionalValue += value;
            batch4 = true;
          } else {
            av4 += value;
          }
        } else if (index === 25) {
          if (isChecked) {
            additionalValue += value;
            batch4 = true;
          } else if (!batch4) {
            av4 += value;
            additionalValue += av4 / 2;
          }
        }
      });

      // Affichage des rÃ©sultats dans la console
      var totalSum = (sumRows1To27 + sumRows28To31) * coef;
      weightedPercentage = (totalSum / additionalValue) * 100;
      if (weightedPercentage < 0) {
        weightedPercentage = 0;
      }
      var setupResult = "No Trade";
      if (weightedPercentage < 25) {
        setupResult = "No Trade";
      } else if (weightedPercentage < 45) {
        setupResult = "C";
      } else if (weightedPercentage < 65) {
        setupResult = "BBB";
      } else if (weightedPercentage < 75) {
        setupResult = "A";
      } else {
        setupResult = "AAA";
      }
      $("#weightedPercentage").text(weightedPercentage.toFixed(2) + "%");
      $("#setupResult").text("Setup : " + setupResult);
    }

    // Appel initial pour effectuer les calculs
    calculateSums();

    // Gestionnaire d'Ã©vÃ©nement pour les cases Ã  cocher
    $(".checkbox").on("change", function () {
      var rowIndex = $(this).closest("tr").index();

      // Gestion des groupements de lignes
      if (rowIndex >= 3 && rowIndex <= 7) {
        $(".calcScore tr")
          .slice(3, 8)
          .find(".checkbox")
          .not(this)
          .prop("checked", false);
      } else if (rowIndex >= 10 && rowIndex <= 12) {
        $(".calcScore tr")
          .slice(10, 13)
          .find(".checkbox")
          .not(this)
          .prop("checked", false);
      } else if (rowIndex >= 13 && rowIndex <= 17) {
        $(".calcScore tr")
          .slice(13, 18)
          .find(".checkbox")
          .not(this)
          .prop("checked", false);
      } else if (rowIndex === 24 || rowIndex === 25) {
        $(".calcScore tr")
          .slice(24, 26)
          .find(".checkbox")
          .not(this)
          .prop("checked", false);
      }

      // Appel de la fonction pour recalculer et afficher les rÃ©sultats
      calculateSums();
    });

    // Gestionnaire d'Ã©vÃ©nement pour les champs de la colonne 4
    $(".pond-input").on("input", function () {
      // Appel de la fonction pour recalculer et afficher les rÃ©sultats
      calculateSums();
    });

    // Mise Ã  jour des boutons
    function updateButtons(clickedIndex) {
      $(".button").removeClass("active inactive");
      $(".button").addClass("inactive");
      $(`.button:eq(${clickedIndex})`)
        .removeClass("inactive")
        .addClass("active");
    }

    // Gestion des clics sur les boutons
    $(".button").click(function () {
      const index = $(this).index();
      handleClick(index);
    });
  });
</script>
